# Интернет-магазин на MERN Stack

Этот проект представляет собой полнофункциональный интернет-магазин, разработанный на стеке MERN (MongoDB, Express, React, Node.js). Он включает в себя регистрацию и аутентификацию пользователей, личный кабинет, каталог товаров, корзину и систему оформления заказов.

## Технологии

- **База данных:** MongoDB (с Mongoose)
- **Бэкенд:** Express, Node.js
- **Фронтенд:** React
- **Пакетный менеджер:** Yarn

## Установка и запуск

### 1. Предварительные требования

Перед началом убедитесь, что у вас установлены:

- [Node.js](https://nodejs.org/) (рекомендуется версия v14 или выше)
- [Yarn](https://yarnpkg.com/getting-started/install)
- [MongoDB](https://www.mongodb.com/try/download/community) (локально или аккаунт на MongoDB Atlas)

### 2. Установка зависимостей

Выполните следующие команды в терминале, находясь в корневой директории проекта:

```bash
# Установка зависимостей для корневого проекта, клиента и сервера
yarn install
cd client
yarn install
cd ../server
yarn install
cd ..
```

### 3. Настройка переменных окружения

В **корневой директории** проекта создайте файл с именем `.env`. Этот файл будет единым источником конфигурации для всего приложения.

```bash
# Пример создания файла в Linux/macOS
touch .env
```

Скопируйте в него следующее содержимое и замените значения на свои:

```.env
# Конфигурация сервера
NODE_ENV=development
PORT=5000
MONGO_URI=mongodb://localhost:27017/online-shop # Укажите вашу строку подключения к MongoDB
JWT_SECRET=your_super_secret_jwt_key_12345 # Укажите ваш секретный ключ для JWT

# Конфигурация клиента (URL бэкенда)
REACT_APP_API_URL=http://localhost:5000
```

**Важно:** Файл `.env` для клиентской части (`client/.env`) создается и обновляется автоматически при запуске команды `yarn client` или `yarn dev`. Вам не нужно создавать его вручную. Так же важно если ссылка для подключения к монго не корректно работает и возникают ошибки, то нужно указывать перед началом адреса, пользователя и пароль, а так же в конце добавить что это действия администратора

Пример, где:

- **mongo** - пользователь
- **secret** - пароль
- **?authSource=admin** - проверка подлинности пользователя

```.env
mongodb://mongo:secret@localhost:27017/online-shop?authSource=admin
```

### 4. Запуск проекта

Вы можете запустить клиентскую и серверную части как вместе, так и по отдельности, используя скрипты из корневого `package.json`.

```bash
# Запустить сервер и клиент одновременно (рекомендуемый способ)
yarn dev

# Запустить только серверную часть
yarn server

# Запустить только клиентскую часть
yarn client

# Запустит билд клиентской части
yarn build

# Запустит сервер и клиент без хотрелоада у бэкэнда
yarn start
```

После запуска `yarn dev` клиентская часть будет доступна по адресу `http://localhost:3000`, а сервер — `http://localhost:5000`.

## Основные возможности

- Регистрация и аутентификация пользователей
- Управление личным кабинетом (просмотр и редактирование данных)
- Просмотр каталога товаров с поиском и фильтрацией
- Добавление товаров в корзину и управление её содержимым
- Оформление заказов
- Панель администратора для управления товарами, пользователями и заказами

## Структура проекта

```tree
online-shop/
├── client/                  # Фронтенд (React)
│   ├── src/
│   │   ├── components/      # Переиспользуемые компоненты
│   │   ├── pages/           # Страницы приложения
│   │   ├── context/         # Глобальные состояния (React Context)
│   │   ├── api/             # Функции для взаимодействия с API
│   │   ├── utils/           # Вспомогательные функции
│   │   └── assets/          # Статические файлы (изображения, стили)
│   └── ...
├── server/                  # Бэкенд (Node.js + Express)
│   ├── config/              # Конфигурация (например, подключение к БД)
│   ├── middleware/          # Middleware-функции (например, для аутентификации)
│   ├── models/              # Модели данных Mongoose
│   ├── routes/              # Маршруты API и логика их обработки
│   ├── uploads/             # Директория для загруженных файлов
│   └── ...
├── .env                     # Единый файл переменных окружения
└── package.json             # Скрипты для управления проектом
```
